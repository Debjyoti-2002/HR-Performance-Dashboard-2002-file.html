<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR Performance Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .tab-active {
            position: relative;
        }
        .tab-active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background: #3b82f6;
            border-radius: 3px;
        }
        .performance-badge {
            transition: all 0.2s ease;
        }
        .performance-badge:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900">
    <div id="root" class="min-h-screen"></div>

    <script type="text/babel">
        // ===== Mock Data Generation =====
        const departments = ['Engineering', 'Marketing', 'Sales', 'HR', 'Finance', 'Operations'];
        const positions = ['Junior Developer', 'Senior Developer', 'Team Lead', 'Manager', 'Director'];
        const projects = ['Project Phoenix', 'Operation Atlas', 'Nexus Initiative', 'Horizon Expansion', 'Infinity Platform'];
        
        const generateMockData = () => {
            const data = [];
            for (let i = 1; i <= 30; i++) {
                const dept = departments[Math.floor(Math.random() * departments.length)];
                const rating = Math.floor(Math.random() * 5) + 1;
                
                data.push({
                    id: i,
                    firstName: `Employee${i}`,
                    lastName: `Last${i}`,
                    email: `employee${i}@company.com`,
                    age: Math.floor(Math.random() * 30) + 25,
                    department: dept,
                    position: positions[Math.floor(Math.random() * positions.length)],
                    rating: rating,
                    phone: `+1 (555) 123-${Math.floor(Math.random() * 10000).toString().padStart(4, '0')}`,
                    address: `${Math.floor(Math.random() * 1000)} Main St, City`,
                    bio: `Experienced professional with ${Math.floor(Math.random() * 10) + 5} years in the ${dept} department. Specializes in strategic planning and team development.`,
                    bookmarked: Math.random() > 0.7,
                    promoted: Math.random() > 0.8,
                    hireDate: `202${Math.floor(Math.random() * 4)}-${(Math.floor(Math.random() * 12) + 1).toString().padStart(2, '0')}-${(Math.floor(Math.random() * 28) + 1).toString().padStart(2, '0')}`,
                    projects: Array.from({length: Math.floor(Math.random() * 3) + 1}, () => ({
                        name: projects[Math.floor(Math.random() * projects.length)],
                        role: ['Lead', 'Contributor', 'Manager'][Math.floor(Math.random() * 3)],
                        status: ['Completed', 'In Progress', 'On Hold'][Math.floor(Math.random() * 3)],
                        timeline: `${Math.floor(Math.random() * 6) + 1} months`
                    })),
                    feedback: Array.from({length: Math.floor(Math.random() * 4) + 1}, (_, idx) => ({
                        id: idx + 1,
                        date: `202${Math.floor(Math.random() * 4)}-${(Math.floor(Math.random() * 12) + 1).toString().padStart(2, '0')}-${(Math.floor(Math.random() * 28) + 1).toString().padStart(2, '0')}`,
                        reviewer: `Manager ${Math.floor(Math.random() * 10) + 1}`,
                        comment: `Employee demonstrated ${['excellent', 'good', 'satisfactory', 'needs improvement'][Math.floor(Math.random() * 4)]} performance during this period.`,
                        rating: Math.floor(Math.random() * 5) + 1
                    })),
                    performanceHistory: Array.from({length: 12}, (_, i) => ({
                        month: `2023-${(i + 1).toString().padStart(2, '0')}`,
                        rating: Math.max(1, Math.min(5, rating + (Math.random() - 0.5) * 2))
                    }))
                });
            }
            return data;
        };

        // ===== Performance Badge Component =====
        function PerformanceBadge({ rating }) {
            const colors = [
                'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300',
                'bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300',
                'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300',
                'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300',
                'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300'
            ];
            
            const levels = ['Needs Improvement', 'Developing', 'Meets Expectations', 'Exceeds Expectations', 'Outstanding'];
            
            return (
                <div className={`performance-badge px-3 py-1 rounded-full text-sm font-medium ${colors[rating - 1]}`}>
                    {levels[rating - 1]}
                </div>
            );
        }

        // ===== Star Rating Component =====
        function StarRating({ rating }) {
            return (
                <div className="flex items-center">
                    {[...Array(5)].map((_, i) => (
                        <svg 
                            key={i}
                            className={`w-5 h-5 ${i < rating ? 'text-yellow-400' : 'text-gray-300 dark:text-gray-600'}`}
                            fill="currentColor"
                            viewBox="0 0 20 20"
                        >
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                        </svg>
                    ))}
                    <span className="ml-2 text-sm font-medium text-gray-600 dark:text-gray-300">
                        {rating}/5
                    </span>
                </div>
            );
        }

        // ===== Employee Card Component =====
        function EmployeeCard({ employee, darkMode, onBookmark, onPromote, onView }) {
            return (
                <div className={`card-hover rounded-xl overflow-hidden shadow-lg border border-gray-200 dark:border-gray-700 ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                    <div className={`p-5 border-b ${darkMode ? 'border-gray-700' : 'border-gray-200'}`}>
                        <div className="flex justify-between items-start">
                            <div className="flex items-center">
                                <div className="bg-gray-200 border-2 border-dashed rounded-xl w-16 h-16" />
                                <div className="ml-4">
                                    <h3 className="font-bold text-lg">
                                        {employee.firstName} {employee.lastName}
                                    </h3>
                                    <p className="text-gray-500 dark:text-gray-400 text-sm">{employee.position}</p>
                                </div>
                            </div>
                            <div className="flex space-x-2">
                                <button 
                                    onClick={() => onBookmark(employee.id)}
                                    className={`p-2 rounded-full transition-colors ${
                                        employee.bookmarked 
                                            ? 'text-blue-500 bg-blue-50 dark:bg-blue-900/20' 
                                            : 'text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700'
                                    }`}
                                >
                                    <i className={`fas ${employee.bookmarked ? 'fa-bookmark' : 'fa-bookmark'}`}></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div className="p-5">
                        <div className="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <p className="text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider">Department</p>
                                <p className="font-medium text-sm">{employee.department}</p>
                            </div>
                            <div>
                                <p className="text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider">Hire Date</p>
                                <p className="font-medium text-sm">{employee.hireDate}</p>
                            </div>
                        </div>
                        
                        <div className="mb-4">
                            <p className="text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1">Performance</p>
                            <div className="flex items-center justify-between">
                                <StarRating rating={employee.rating} />
                                <PerformanceBadge rating={employee.rating} />
                            </div>
                        </div>
                        
                        <div className="flex space-x-3">
                            <button 
                                onClick={onView}
                                className="flex-1 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg font-medium transition-colors text-sm dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-200"
                            >
                                View
                            </button>
                            <button 
                                onClick={() => onPromote(employee.id)}
                                disabled={employee.promoted}
                                className={`flex-1 py-2 rounded-lg font-medium transition-colors text-sm ${
                                    employee.promoted 
                                        ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 cursor-not-allowed' 
                                        : 'bg-blue-600 hover:bg-blue-700 text-white'
                                }`}
                            >
                                {employee.promoted ? 'Promoted' : 'Promote'}
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // ===== Department Chart Component =====
        function DepartmentChart({ data, darkMode }) {
            const chartRef = React.useRef(null);
            const chartInstance = React.useRef(null);
            
            React.useEffect(() => {
                if (chartInstance.current) {
                    chartInstance.current.destroy();
                }
                
                const ctx = chartRef.current.getContext('2d');
                
                const gradient = ctx.createLinearGradient(0, 0, 0, 400);
                gradient.addColorStop(0, 'rgba(59, 130, 246, 0.7)');
                gradient.addColorStop(1, 'rgba(59, 130, 246, 0.1)');
                
                chartInstance.current = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: data.map(item => item.department),
                        datasets: [{
                            label: 'Average Rating',
                            data: data.map(item => item.avgRating),
                            backgroundColor: gradient,
                            borderColor: 'rgb(59, 130, 246)',
                            borderWidth: 1,
                            borderRadius: 6,
                            borderSkipped: false,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 5,
                                ticks: {
                                    color: darkMode ? '#9CA3AF' : '#6B7280',
                                    callback: function(value) {
                                        return value + (value === 5 ? '.0' : '');
                                    }
                                },
                                grid: {
                                    color: darkMode ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.05)'
                                }
                            },
                            x: {
                                ticks: {
                                    color: darkMode ? '#9CA3AF' : '#6B7280'
                                },
                                grid: {
                                    display: false
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                backgroundColor: darkMode ? 'rgba(30, 41, 59, 0.9)' : 'rgba(255, 255, 255, 0.9)',
                                titleColor: darkMode ? '#E2E8F0' : '#1E293B',
                                bodyColor: darkMode ? '#CBD5E1' : '#475569',
                                borderColor: darkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',
                                borderWidth: 1,
                                padding: 12,
                                callbacks: {
                                    label: function(context) {
                                        return `Avg. Rating: ${context.parsed.y.toFixed(1)}`;
                                    }
                                }
                            }
                        }
                    }
                });
                
                return () => {
                    if (chartInstance.current) {
                        chartInstance.current.destroy();
                    }
                };
            }, [data, darkMode]);
            
            return <canvas ref={chartRef}></canvas>;
        }

        // ===== Performance Chart Component =====
        function PerformanceChart({ employees, darkMode }) {
            const chartRef = React.useRef(null);
            const chartInstance = React.useRef(null);
            
            React.useEffect(() => {
                if (chartInstance.current) {
                    chartInstance.current.destroy();
                }
                
                // Calculate performance distribution
                const distribution = [0, 0, 0, 0, 0];
                employees.forEach(emp => {
                    distribution[emp.rating - 1]++;
                });
                
                const ctx = chartRef.current.getContext('2d');
                
                chartInstance.current = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['1 Star', '2 Stars', '3 Stars', '4 Stars', '5 Stars'],
                        datasets: [{
                            data: distribution,
                            backgroundColor: [
                                'rgba(239, 68, 68, 0.8)',
                                'rgba(249, 115, 22, 0.8)',
                                'rgba(234, 179, 8, 0.8)',
                                'rgba(59, 130, 246, 0.8)',
                                'rgba(16, 185, 129, 0.8)'
                            ],
                            borderColor: darkMode ? 'rgb(30, 41, 59)' : 'rgb(255, 255, 255)',
                            borderWidth: 2,
                            hoverOffset: 15
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '70%',
                        plugins: {
                            legend: {
                                position: 'right',
                                labels: {
                                    color: darkMode ? '#D1D5DB' : '#4B5563',
                                    padding: 16,
                                    font: {
                                        size: 12
                                    }
                                }
                            },
                            tooltip: {
                                backgroundColor: darkMode ? 'rgba(30, 41, 59, 0.9)' : 'rgba(255, 255, 255, 0.9)',
                                titleColor: darkMode ? '#E2E8F0' : '#1E293B',
                                bodyColor: darkMode ? '#CBD5E1' : '#475569',
                                borderColor: darkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',
                                borderWidth: 1,
                                padding: 12,
                                callbacks: {
                                    label: function(context) {
                                        const label = context.label || '';
                                        const value = context.raw || 0;
                                        const total = employees.length;
                                        const percentage = Math.round((value / total) * 100);
                                        return `${label}: ${value} (${percentage}%)`;
                                    }
                                }
                            }
                        }
                    }
                });
                
                return () => {
                    if (chartInstance.current) {
                        chartInstance.current.destroy();
                    }
                };
            }, [employees, darkMode]);
            
            return <canvas ref={chartRef}></canvas>;
        }

        // ===== Main App Component =====
        function App() {
            const [darkMode, setDarkMode] = React.useState(false);
            const [activeTab, setActiveTab] = React.useState('dashboard');
            const [employees, setEmployees] = React.useState([]);
            const [bookmarkedEmployees, setBookmarkedEmployees] = React.useState([]);
            const [searchTerm, setSearchTerm] = React.useState('');
            const [selectedDepartment, setSelectedDepartment] = React.useState('All');
            const [selectedRating, setSelectedRating] = React.useState('All');
            const [selectedEmployee, setSelectedEmployee] = React.useState(null);
            const [detailTab, setDetailTab] = React.useState('overview');
            const [newFeedback, setNewFeedback] = React.useState('');
            const [isLoading, setIsLoading] = React.useState(true);

            // Initialize data
            React.useEffect(() => {
                // Simulate API call
                setTimeout(() => {
                    const mockData = generateMockData();
                    setEmployees(mockData);
                    setBookmarkedEmployees(mockData.filter(emp => emp.bookmarked));
                    setIsLoading(false);
                }, 800);
            }, []);

            // Bookmark toggle
            const toggleBookmark = (id) => {
                const updatedEmployees = employees.map(emp => 
                    emp.id === id ? {...emp, bookmarked: !emp.bookmarked} : emp
                );
                setEmployees(updatedEmployees);
                setBookmarkedEmployees(updatedEmployees.filter(emp => emp.bookmarked));
            };

            // Promote employee
            const promoteEmployee = (id) => {
                const updatedEmployees = employees.map(emp => 
                    emp.id === id ? {...emp, promoted: true} : emp
                );
                setEmployees(updatedEmployees);
            };

            // Filter employees
            const filteredEmployees = employees.filter(emp => {
                const matchesSearch = 
                    `${emp.firstName} ${emp.lastName}`.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    emp.email.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    emp.department.toLowerCase().includes(searchTerm.toLowerCase());
                
                const matchesDepartment = 
                    selectedDepartment === 'All' || emp.department === selectedDepartment;
                
                const matchesRating = 
                    selectedRating === 'All' || emp.rating === parseInt(selectedRating);
                
                return matchesSearch && matchesDepartment && matchesRating;
            });

            // Department statistics
            const departmentStats = departments.map(dept => {
                const deptEmployees = employees.filter(emp => emp.department === dept);
                const avgRating = deptEmployees.length 
                    ? deptEmployees.reduce((sum, emp) => sum + emp.rating, 0) / deptEmployees.length
                    : 0;
                return {
                    department: dept,
                    count: deptEmployees.length,
                    avgRating: parseFloat(avgRating.toFixed(1))
                };
            });

            // Submit feedback
            const submitFeedback = () => {
                if (newFeedback.trim() && selectedEmployee) {
                    const updatedEmployees = employees.map(emp => {
                        if (emp.id === selectedEmployee.id) {
                            const newFeedbackObj = {
                                id: emp.feedback.length + 1,
                                date: new Date().toISOString().split('T')[0],
                                reviewer: 'HR Manager',
                                comment: newFeedback,
                                rating: 4 // Default rating for manager feedback
                            };
                            return {
                                ...emp,
                                feedback: [...emp.feedback, newFeedbackObj]
                            };
                        }
                        return emp;
                    });
                    setEmployees(updatedEmployees);
                    setNewFeedback('');
                }
            };

            return (
                <div className={`min-h-screen transition-colors duration-300 ${darkMode ? 'dark bg-gray-900 text-gray-100' : 'bg-gray-50 text-gray-800'}`}>
                    {/* Header */}
                    <header className={`sticky top-0 z-20 shadow-sm ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                        <div className="container mx-auto px-4 py-4 flex justify-between items-center">
                            <div className="flex items-center">
                                <div className="bg-blue-600 w-10 h-10 rounded-lg flex items-center justify-center mr-3">
                                    <i className="fas fa-users text-white text-xl"></i>
                                </div>
                                <div>
                                    <h1 className="text-xl font-bold">HR Performance Dashboard</h1>
                                    <p className="text-xs text-gray-500 dark:text-gray-400">Employee management system</p>
                                </div>
                            </div>
                            <div className="flex items-center space-x-4">
                                <div className="relative">
                                    <div className="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                        <i className="fas fa-search text-gray-400"></i>
                                    </div>
                                    <input
                                        type="text"
                                        placeholder="Search..."
                                        className="pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64 dark:bg-gray-700 dark:border-gray-600"
                                        value={searchTerm}
                                        onChange={(e) => setSearchTerm(e.target.value)}
                                    />
                                </div>
                                
                                <button 
                                    onClick={() => setDarkMode(!darkMode)}
                                    className={`p-2 rounded-lg ${darkMode ? 'bg-gray-700 text-blue-400' : 'bg-gray-100 text-gray-600'}`}
                                >
                                    <i className={`fas ${darkMode ? 'fa-sun' : 'fa-moon'}`}></i>
                                </button>
                                
                                <div className="flex items-center space-x-3">
                                    <div className="relative">
                                        <div className="bg-gray-200 border-2 border-transparent rounded-full w-10 h-10 flex items-center justify-center cursor-pointer">
                                            <i className="fas fa-bell text-gray-700 dark:text-gray-300"></i>
                                            <span className="absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full border-2 border-white dark:border-gray-800"></span>
                                        </div>
                                    </div>
                                    <div className="flex items-center">
                                        <div className="bg-gray-200 border-2 border-dashed rounded-xl w-10 h-10" />
                                        <div className="ml-2">
                                            <p className="text-sm font-medium">Admin User</p>
                                            <p className="text-xs text-gray-500 dark:text-gray-400">HR Manager</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        {/* Navigation */}
                        <nav className={`border-t ${darkMode ? 'border-gray-700' : 'border-gray-200'}`}>
                            <div className="container mx-auto px-4">
                                <ul className="flex space-x-8">
                                    {[
                                        { id: 'dashboard', icon: 'fa-chart-pie', label: 'Dashboard' },
                                        { id: 'bookmarks', icon: 'fa-bookmark', label: 'Bookmarks' },
                                        { id: 'analytics', icon: 'fa-chart-line', label: 'Analytics' },
                                        { id: 'employees', icon: 'fa-users', label: 'Employees' }
                                    ].map(tab => (
                                        <li key={tab.id}>
                                            <button
                                                onClick={() => setActiveTab(tab.id)}
                                                className={`py-3 px-1 font-medium flex items-center text-sm transition-colors ${
                                                    activeTab === tab.id 
                                                        ? 'text-blue-600 dark:text-blue-400' 
                                                        : 'text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300'
                                                }`}
                                            >
                                                <i className={`fas ${tab.icon} mr-2`}></i>
                                                {tab.label}
                                                {tab.id === 'bookmarks' && bookmarkedEmployees.length > 0 && (
                                                    <span className="ml-2 bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded-full dark:bg-blue-900/30 dark:text-blue-300">
                                                        {bookmarkedEmployees.length}
                                                    </span>
                                                )}
                                            </button>
                                        </li>
                                    ))}
                                </ul>
                            </div>
                        </nav>
                    </header>

                    <main className="container mx-auto px-4 py-6">
                        {/* Page Header */}
                        <div className="mb-6">
                            <h1 className="text-2xl font-bold text-gray-800 dark:text-white capitalize">{activeTab}</h1>
                            <p className="text-gray-600 dark:text-gray-400 mt-1">
                                {activeTab === 'dashboard' && 'Overview of employee performance and metrics'}
                                {activeTab === 'bookmarks' && 'Your bookmarked employees for quick access'}
                                {activeTab === 'analytics' && 'Detailed analytics and performance insights'}
                                {activeTab === 'employees' && 'Full employee directory and management'}
                            </p>
                        </div>
                        
                        {/* Stats Overview */}
                        {activeTab === 'dashboard' && (
                            <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                                <div className={`p-5 rounded-xl shadow ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                                    <div className="flex justify-between items-start">
                                        <div>
                                            <p className="text-gray-500 dark:text-gray-400 text-sm">Total Employees</p>
                                            <p className="text-2xl font-bold mt-1">{employees.length}</p>
                                        </div>
                                        <div className="bg-blue-100 p-3 rounded-lg text-blue-600 dark:bg-blue-900/30 dark:text-blue-400">
                                            <i className="fas fa-users text-xl"></i>
                                        </div>
                                    </div>
                                    <p className="text-xs text-green-500 mt-3 flex items-center">
                                        <i className="fas fa-arrow-up mr-1"></i> 12% from last month
                                    </p>
                                </div>
                                
                                <div className={`p-5 rounded-xl shadow ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                                    <div className="flex justify-between items-start">
                                        <div>
                                            <p className="text-gray-500 dark:text-gray-400 text-sm">Avg. Rating</p>
                                            <p className="text-2xl font-bold mt-1">
                                                {employees.length ? (employees.reduce((sum, emp) => sum + emp.rating, 0) / employees.length).toFixed(1) : '0.0'}
                                            </p>
                                        </div>
                                        <div className="bg-green-100 p-3 rounded-lg text-green-600 dark:bg-green-900/30 dark:text-green-400">
                                            <i className="fas fa-star text-xl"></i>
                                        </div>
                                    </div>
                                    <p className="text-xs text-gray-500 dark:text-gray-400 mt-3">
                                        <span className="text-green-500">+0.3</span> from last quarter
                                    </p>
                                </div>
                                
                                <div className={`p-5 rounded-xl shadow ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                                    <div className="flex justify-between items-start">
                                        <div>
                                            <p className="text-gray-500 dark:text-gray-400 text-sm">Bookmarked</p>
                                            <p className="text-2xl font-bold mt-1">{bookmarkedEmployees.length}</p>
                                        </div>
                                        <div className="bg-yellow-100 p-3 rounded-lg text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400">
                                            <i className="fas fa-bookmark text-xl"></i>
                                        </div>
                                    </div>
                                    <p className="text-xs text-gray-500 dark:text-gray-400 mt-3">
                                        <span className="text-green-500">+3</span> in the last week
                                    </p>
                                </div>
                                
                                <div className={`p-5 rounded-xl shadow ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                                    <div className="flex justify-between items-start">
                                        <div>
                                            <p className="text-gray-500 dark:text-gray-400 text-sm">Promoted</p>
                                            <p className="text-2xl font-bold mt-1">{employees.filter(e => e.promoted).length}</p>
                                        </div>
                                        <div className="bg-purple-100 p-3 rounded-lg text-purple-600 dark:bg-purple-900/30 dark:text-purple-400">
                                            <i className="fas fa-trophy text-xl"></i>
                                        </div>
                                    </div>
                                    <p className="text-xs text-green-500 mt-3 flex items-center">
                                        <i className="fas fa-arrow-up mr-1"></i> 2 this month
                                    </p>
                                </div>
                            </div>
                        )}
                        
                        {/* Filters */}
                        <div className="mb-6 grid grid-cols-1 md:grid-cols-4 gap-4">
                            <div className="md:col-span-2">
                                <div className="relative">
                                    <div className="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                        <i className="fas fa-search text-gray-400"></i>
                                    </div>
                                    <input
                                        type="text"
                                        placeholder="Search employees by name, email, or department..."
                                        className="w-full px-4 py-2 pl-10 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm dark:bg-gray-800 dark:border-gray-700"
                                        value={searchTerm}
                                        onChange={(e) => setSearchTerm(e.target.value)}
                                    />
                                </div>
                            </div>
                            <div>
                                <select 
                                    className="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm dark:bg-gray-800 dark:border-gray-700"
                                    value={selectedDepartment}
                                    onChange={(e) => setSelectedDepartment(e.target.value)}
                                >
                                    <option value="All">All Departments</option>
                                    {departments.map(dept => (
                                        <option key={dept} value={dept}>{dept}</option>
                                    ))}
                                </select>
                            </div>
                            <div>
                                <select 
                                    className="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm dark:bg-gray-800 dark:border-gray-700"
                                    value={selectedRating}
                                    onChange={(e) => setSelectedRating(e.target.value)}
                                >
                                    <option value="All">All Ratings</option>
                                    {[1, 2, 3, 4, 5].map(rating => (
                                        <option key={rating} value={rating}>
                                            {rating} Star{rating > 1 ? 's' : ''}
                                        </option>
                                    ))}
                                </select>
                            </div>
                        </div>
                        
                        {/* Loading State */}
                        {isLoading && (
                            <div className="flex justify-center items-center py-20">
                                <div className="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div>
                            </div>
                        )}
                        
                        {/* Dashboard Content */}
                        {!isLoading && activeTab === 'dashboard' && (
                            <div className="animate-fade-in">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-xl font-bold text-gray-800 dark:text-white">Top Performers</h2>
                                    <button className="text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300">
                                        View All Employees <i className="fas fa-arrow-right ml-1"></i>
                                    </button>
                                </div>
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                    {filteredEmployees
                                        .sort((a, b) => b.rating - a.rating)
                                        .slice(0, 6)
                                        .map(employee => (
                                            <EmployeeCard 
                                                key={employee.id}
                                                employee={employee}
                                                darkMode={darkMode}
                                                onBookmark={toggleBookmark}
                                                onPromote={promoteEmployee}
                                                onView={() => setSelectedEmployee(employee)}
                                            />
                                    ))}
                                </div>
                            </div>
                        )}

                        {/* Employees Content */}
                        {!isLoading && activeTab === 'employees' && (
                            <div className="animate-fade-in">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-xl font-bold text-gray-800 dark:text-white">Employee Directory</h2>
                                    <div className="text-sm text-gray-500 dark:text-gray-400">
                                        Showing {filteredEmployees.length} of {employees.length} employees
                                    </div>
                                </div>
                                
                                {filteredEmployees.length > 0 ? (
                                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                        {filteredEmployees.map(employee => (
                                            <EmployeeCard 
                                                key={employee.id}
                                                employee={employee}
                                                darkMode={darkMode}
                                                onBookmark={toggleBookmark}
                                                onPromote={promoteEmployee}
                                                onView={() => setSelectedEmployee(employee)}
                                            />
                                        ))}
                                    </div>
                                ) : (
                                    <div className={`py-12 text-center rounded-xl ${darkMode ? 'bg-gray-800' : 'bg-white'} shadow`}>
                                        <i className="fas fa-user-slash text-4xl text-gray-400 mb-4"></i>
                                        <h3 className="text-xl font-medium text-gray-700 dark:text-gray-300">No employees found</h3>
                                        <p className="text-gray-500 dark:text-gray-500 mt-2 max-w-md mx-auto">
                                            Try adjusting your search or filter criteria to find what you're looking for.
                                        </p>
                                    </div>
                                )}
                            </div>
                        )}

                        {/* Bookmarks Content */}
                        {!isLoading && activeTab === 'bookmarks' && (
                            <div className="animate-fade-in">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-xl font-bold text-gray-800 dark:text-white">Bookmarked Employees</h2>
                                    <div className="text-sm text-gray-500 dark:text-gray-400">
                                        {bookmarkedEmployees.length} bookmarked
                                    </div>
                                </div>
                                
                                {bookmarkedEmployees.length > 0 ? (
                                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                        {bookmarkedEmployees.map(employee => (
                                            <EmployeeCard 
                                                key={employee.id}
                                                employee={employee}
                                                darkMode={darkMode}
                                                onBookmark={toggleBookmark}
                                                onPromote={promoteEmployee}
                                                onView={() => setSelectedEmployee(employee)}
                                            />
                                        ))}
                                    </div>
                                ) : (
                                    <div className={`py-12 text-center rounded-xl ${darkMode ? 'bg-gray-800' : 'bg-white'} shadow`}>
                                        <i className="fas fa-bookmark text-4xl text-gray-400 mb-4"></i>
                                        <h3 className="text-xl font-medium text-gray-700 dark:text-gray-300">No bookmarked employees</h3>
                                        <p className="text-gray-500 dark:text-gray-500 mt-2">
                                            Bookmark employees to see them here
                                        </p>
                                    </div>
                                )}
                            </div>
                        )}

                        {/* Analytics Content */}
                        {!isLoading && activeTab === 'analytics' && (
                            <div className="animate-fade-in">
                                <h2 className="text-xl font-bold text-gray-800 dark:text-white mb-6">Performance Analytics</h2>
                                
                                <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                    <div className={`p-6 rounded-xl shadow ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                                        <h3 className="text-lg font-semibold mb-4">Department Ratings</h3>
                                        <div className="h-80">
                                            <DepartmentChart data={departmentStats} darkMode={darkMode} />
                                        </div>
                                    </div>
                                    
                                    <div className={`p-6 rounded-xl shadow ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                                        <h3 className="text-lg font-semibold mb-4">Performance Distribution</h3>
                                        <div className="h-80">
                                            <PerformanceChart employees={employees} darkMode={darkMode} />
                                        </div>
                                    </div>
                                </div>
                                
                                <div className={`p-6 rounded-xl shadow mt-8 ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                                    <h3 className="text-lg font-semibold mb-4">Department Statistics</h3>
                                    <div className="space-y-4">
                                        {departmentStats.map(stat => (
                                            <div key={stat.department} className="flex items-center">
                                                <div className="w-40 font-medium">{stat.department}</div>
                                                <div className="flex-1 ml-4">
                                                    <div className="flex justify-between text-sm mb-1">
                                                        <span>Avg. Rating: {stat.avgRating}</span>
                                                        <span>{stat.count} employees</span>
                                                    </div>
                                                    <div className="h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
                                                        <div 
                                                            className="h-full bg-blue-500"
                                                            style={{ width: `${(stat.avgRating / 5) * 100}%` }}
                                                        ></div>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}
                    </main>

                    {/* Employee Detail Modal */}
                    {selectedEmployee && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
                            <div className={`animate-fade-in max-w-4xl w-full max-h-[90vh] overflow-y-auto rounded-xl shadow-xl ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                                <div className="p-6">
                                    <div className="flex justify-between items-start mb-6">
                                        <div className="flex items-center">
                                            <div className="bg-gray-200 border-2 border-dashed rounded-xl w-16 h-16" />
                                            <div className="ml-4">
                                                <h2 className="text-2xl font-bold">
                                                    {selectedEmployee.firstName} {selectedEmployee.lastName}
                                                </h2>
                                                <p className="text-gray-500 dark:text-gray-400">
                                                    {selectedEmployee.position}  {selectedEmployee.department} Department
                                                </p>
                                            </div>
                                        </div>
                                        <button 
                                            onClick={() => setSelectedEmployee(null)}
                                            className="p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400"
                                        >
                                            <i className="fas fa-times text-xl"></i>
                                        </button>
                                    </div>
                                    
                                    {/* Tabs */}
                                    <div className="border-b border-gray-200 dark:border-gray-700 mb-6">
                                        <ul className="flex -mb-px">
                                            {['overview', 'projects', 'feedback'].map(tab => (
                                                <li key={tab} className="mr-8">
                                                    <button
                                                        onClick={() => setDetailTab(tab)}
                                                        className={`py-3 px-1 font-medium capitalize ${
                                                            detailTab === tab 
                                                                ? 'text-blue-600 dark:text-blue-400 tab-active' 
                                                                : 'text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300'
                                                        }`}
                                                    >
                                                        {tab}
                                                    </button>
                                                </li>
                                            ))}
                                        </ul>
                                    </div>
                                    
                                    {/* Overview Tab */}
                                    {detailTab === 'overview' && (
                                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                                            <div className={`p-5 rounded-lg ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>
                                                <h3 className="font-semibold text-lg mb-3">Personal Details</h3>
                                                <div className="space-y-3">
                                                    <div>
                                                        <p className="text-sm text-gray-500 dark:text-gray-400">Email</p>
                                                        <p className="font-medium">{selectedEmployee.email}</p>
                                                    </div>
                                                    <div>
                                                        <p className="text-sm text-gray-500 dark:text-gray-400">Phone</p>
                                                        <p className="font-medium">{selectedEmployee.phone}</p>
                                                    </div>
                                                    <div>
                                                        <p className="text-sm text-gray-500 dark:text-gray-400">Address</p>
                                                        <p className="font-medium">{selectedEmployee.address}</p>
                                                    </div>
                                                    <div>
                                                        <p className="text-sm text-gray-500 dark:text-gray-400">Age</p>
                                                        <p className="font-medium">{selectedEmployee.age}</p>
                                                    </div>
                                                    <div>
                                                        <p className="text-sm text-gray-500 dark:text-gray-400">Hire Date</p>
                                                        <p className="font-medium">{selectedEmployee.hireDate}</p>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div className={`p-5 rounded-lg ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>
                                                <h3 className="font-semibold text-lg mb-3">Performance</h3>
                                                <div className="space-y-3">
                                                    <div>
                                                        <p className="text-sm text-gray-500 dark:text-gray-400">Current Rating</p>
                                                        <div className="flex items-center justify-between mt-1">
                                                            <StarRating rating={selectedEmployee.rating} />
                                                            <PerformanceBadge rating={selectedEmployee.rating} />
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <p className="text-sm text-gray-500 dark:text-gray-400">Status</p>
                                                        <div className="mt-1">
                                                            <span className={`px-3 py-1 rounded-full text-sm font-medium ${
                                                                selectedEmployee.promoted 
                                                                    ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300' 
                                                                    : 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300'
                                                            }`}>
                                                                {selectedEmployee.promoted ? 'Promoted' : 'Active'}
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <p className="text-sm text-gray-500 dark:text-gray-400">Performance Trend</p>
                                                        <div className="mt-2 h-32">
                                                            <canvas id="performanceTrend"></canvas>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div className={`p-5 rounded-lg ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>
                                                <h3 className="font-semibold text-lg mb-3">Actions</h3>
                                                <div className="space-y-3">
                                                    <button 
                                                        onClick={() => {
                                                            promoteEmployee(selectedEmployee.id);
                                                            setSelectedEmployee(null);
                                                        }}
                                                        disabled={selectedEmployee.promoted}
                                                        className={`w-full px-4 py-2 rounded-lg font-medium text-center ${
                                                            selectedEmployee.promoted 
                                                                ? 'bg-gray-200 text-gray-500 dark:bg-gray-700 dark:text-gray-400 cursor-not-allowed' 
                                                                : 'bg-green-600 hover:bg-green-700 text-white'
                                                        }`}
                                                    >
                                                        {selectedEmployee.promoted ? 'Already Promoted' : 'Promote Employee'}
                                                    </button>
                                                    <button 
                                                        onClick={() => {
                                                            toggleBookmark(selectedEmployee.id);
                                                        }}
                                                        className={`w-full px-4 py-2 rounded-lg font-medium ${
                                                            selectedEmployee.bookmarked 
                                                                ? 'bg-red-100 hover:bg-red-200 text-red-700 dark:bg-red-900/30 dark:hover:bg-red-800/50 dark:text-red-200' 
                                                                : 'bg-blue-100 hover:bg-blue-200 text-blue-700 dark:bg-blue-900/30 dark:hover:bg-blue-800/50 dark:text-blue-200'
                                                        }`}
                                                    >
                                                        {selectedEmployee.bookmarked ? 'Remove Bookmark' : 'Bookmark Employee'}
                                                    </button>
                                                    <button className="w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-200">
                                                        Schedule Review
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    )}
                                    
                                    {/* Projects Tab */}
                                    {detailTab === 'projects' && (
                                        <div className="mb-6">
                                            <h3 className="font-semibold text-lg mb-4">Current Projects</h3>
                                            <div className="space-y-4">
                                                {selectedEmployee.projects.length > 0 ? (
                                                    selectedEmployee.projects.map((project, idx) => (
                                                        <div key={idx} className={`p-4 rounded-lg ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>
                                                            <div className="flex justify-between items-center">
                                                                <h4 className="font-medium">{project.name}</h4>
                                                                <span className={`px-2 py-1 rounded-full text-xs ${
                                                                    project.status === 'Completed' 
                                                                        ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300' 
                                                                        : project.status === 'In Progress' 
                                                                            ? 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300' 
                                                                            : 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300'
                                                                }`}>
                                                                    {project.status}
                                                                </span>
                                                            </div>
                                                            <div className="mt-3 grid grid-cols-2 gap-4">
                                                                <div>
                                                                    <p className="text-sm text-gray-500 dark:text-gray-400">Role</p>
                                                                    <p className="font-medium">{project.role}</p>
                                                                </div>
                                                                <div>
                                                                    <p className="text-sm text-gray-500 dark:text-gray-400">Timeline</p>
                                                                    <p className="font-medium">{project.timeline}</p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    ))
                                                ) : (
                                                    <div className={`p-8 text-center rounded-lg ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>
                                                        <i className="fas fa-folder-open text-3xl text-gray-400 mb-4"></i>
                                                        <p className="text-gray-600 dark:text-gray-300">
                                                            No projects assigned at the moment
                                                        </p>
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    )}
                                    
                                    {/* Feedback Tab */}
                                    {detailTab === 'feedback' && (
                                        <div className="mb-6">
                                            <h3 className="font-semibold text-lg mb-4">Performance Feedback</h3>
                                            
                                            <div className={`p-5 rounded-lg mb-6 ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>
                                                <h4 className="font-medium mb-3">Add New Feedback</h4>
                                                <div className="flex space-x-3">
                                                    <input
                                                        type="text"
                                                        placeholder="Enter feedback..."
                                                        className="flex-1 px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700"
                                                        value={newFeedback}
                                                        onChange={(e) => setNewFeedback(e.target.value)}
                                                    />
                                                    <button 
                                                        onClick={submitFeedback}
                                                        className="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium"
                                                    >
                                                        Submit
                                                    </button>
                                                </div>
                                            </div>
                                            
                                            <div className="space-y-4">
                                                {selectedEmployee.feedback.length > 0 ? (
                                                    selectedEmployee.feedback.map(fb => (
                                                        <div key={fb.id} className={`p-4 rounded-lg ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>
                                                            <div className="flex justify-between items-center">
                                                                <div>
                                                                    <p className="font-medium">{fb.reviewer}</p>
                                                                    <p className="text-sm text-gray-500 dark:text-gray-400">{fb.date}</p>
                                                                </div>
                                                                <StarRating rating={fb.rating} />
                                                            </div>
                                                            <p className="mt-3 text-gray-700 dark:text-gray-300">
                                                                {fb.comment}
                                                            </p>
                                                        </div>
                                                    ))
                                                ) : (
                                                    <div className={`p-8 text-center rounded-lg ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>
                                                        <i className="fas fa-comments text-3xl text-gray-400 mb-4"></i>
                                                        <p className="text-gray-600 dark:text-gray-300">
                                                            No feedback available yet
                                                        </p>
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    )}
                                    
                                    {/* Bio Section */}
                                    <div>
                                        <h3 className="font-semibold text-lg mb-2">About</h3>
                                        <p className="text-gray-700 dark:text-gray-300">
                                            {selectedEmployee.bio}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                    
                    <footer className={`py-6 mt-12 ${darkMode ? 'bg-gray-800 border-t border-gray-700' : 'bg-white border-t border-gray-200'}`}>
                        <div className="container mx-auto px-4">
                            <div className="flex flex-col md:flex-row justify-between items-center">
                                <div className="flex items-center">
                                    <div className="bg-blue-600 w-8 h-8 rounded-lg flex items-center justify-center mr-2">
                                        <i className="fas fa-users text-white"></i>
                                    </div>
                                    <span className="font-medium">HR Performance Dashboard</span>
                                </div>
                                <div className="mt-4 md:mt-0 text-center md:text-right">
                                    <p className="text-sm text-gray-600 dark:text-gray-400">
                                         {new Date().getFullYear()} Company Name. All rights reserved.
                                    </p>
                                    <p className="text-xs text-gray-500 dark:text-gray-500 mt-1">
                                        v2.4.1  Last updated: Jun 21, 2025
                                    </p>
                                </div>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        }

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>